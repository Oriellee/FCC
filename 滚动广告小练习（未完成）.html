<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>练习</title>
</head>
<style type="text/css">
*{
	border: 1px solid red;
	padding: 0;
	margin: 0;
}
	#box{
		width: 100%;
		height: 500px;
		margin: 0;
	}
	#move{
		width: 50px;
		height: 100px;
		position: absolute;
		top: 2px;
		left: 40%;
		background-color: grey;
	}
</style>
<body>
	<div id="box">
		<div id="move"></div>
	</div>
	<script type="text/javascript">
		var $ = function(id){
			return document.getElementById(id);
		}
	function timer(value,father,num){
		if(num!=null){
			var i = num;
		}else{
			var i = 1;
		}
		var time=setInterval(function(){
			var top1 = Number((getComputedStyle(value, null)['top']).replace("px",""));
			var max = Number((getComputedStyle(father, null)['height']).replace("px",""));
			var height = Number((getComputedStyle(value, null)['height']).replace("px",""));

			if(i<max-height){
				var speed = Math.floor(top1/top1);
				value.style.top = top1+speed+"px";
			}
			i++;
			if(i>(max-height)){
				speed = Math.floor(top1/-top1);
				value.style.top = top1+speed+"px";
				}
			if(i>(max-height)*2){
				i=0;
				i++;
				top1 = 2;
				var speed = Math.floor(top1/top1);
				value.style.top = top1+speed+"px";
				}
				console.log(i);
				// console.log(num);
				console.log(top1);
		
		},10);
		// 选中清除定时器的函数卸载父函数中。
		move.onmouseover = function(){
				clearInterval(time);
				}
	}
	// 鼠标移出后重新开始函数的代码卸载父函数之外。
	move.onmouseout = function(){
		var num = Number((getComputedStyle(this, null)['top']).replace("px",""));
				timer(move,box,num);
				}
	timer(move,box);
	</script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width-device-width,initial-sacle=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="stylesheet" type="text/css" href="porject3.css">
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
	<script src="jquery-3.2.1.slim.js"></script>
	<title>porject3</title>
</head>
<body>
<ul class="box">
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
</ul>
	<section>
		<input class="input" type="text">
		<div class="row">
			<button class="center-block shut">发射</button>
			<button class="center-block clear">清屏</button>
		</div>
	</section>
<script type="text/javascript">
	var box = document.querySelector(".box");
	var li = document.querySelectorAll(".box li");
	var input = document.querySelector(".input");
	var shut = document.querySelector(".shut");
	var clear = document.querySelector(".clear");
	
	function random(min,max){
		var num = Math.floor(Math.random()*(max-min)+min);
		return num;
	}
	var arr = [50,100,150,200,250,300,350,400];
	shut.onclick = function(){
		var all = document.querySelectorAll(".movebox");
		var movebox = document.createElement("div");
		movebox.innerHTML = input.value;
		movebox.className = "movebox";
		box.appendChild(movebox);
		movebox.style.top = arr[random(0,arr.length)]+"px";
		movebox.style.color = 'rgb(' + random(0,255) + ',' + random(0,255) + ',' + random(0,255) +')'; 
		timer(movebox);
		clear1(all);
	}
	clear.onclick = function(){
		var all = document.querySelectorAll(".movebox");
		for(var i=0;i<all.length;i++){
			box.removeChild(all[i]);
		}
	}
	function timer(value){
		var right = value.style.right;
		var timer1 = setInterval(function(){
			right++;
			value.style.right = right+35+"px";
			if(right >(document.body.clientWidth)){
				clearInterval(timer);
				console.log(document.body.clientWidth);
				right = 0;
				value.style.top = arr[random(0,arr.length)]+"px";
				timer(value);
			}
		},15);
	}
	function clear1(value){
		if(value.length>6){
			box.removeChild(value[0]);
		}
	}
</script>
</body>
</html>